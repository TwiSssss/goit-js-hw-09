{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = \"feedback-form-state\";\n\nconst refs = {\n    form: document.querySelector(\".feedback-form\"),\n};\nconst formData = {\n    email: \"\",\n    message: \"\",\n};\n\nrefs.form.addEventListener(\"input\", (e) => {\n    const email = e.currentTarget.elements.email.value;\n    const message = e.currentTarget.elements.message.value;\n    const data = { email, message };\n    saveToLS(STORAGE_KEY, data);\n});\n\nfunction initPage() {\n    const saveData = loadFromLS(STORAGE_KEY);\n    refs.form.elements.email.value = saveData?.email || formData.email;\n    refs.form.elements.message.value = saveData?.message || formData.message;\n}\n\ninitPage();\n\nrefs.form.addEventListener(\"submit\", (e) => {\n    e.preventDefault();\n    const email = e.currentTarget.elements.email.value.trim();\n    const message = e.currentTarget.elements.message.value.trim();\n    if (!email || !message) {\n        alert(\"Fill please all fields\");\n        return;\n    }\n    const data = { email, message };\n    console.log(data);\n    localStorage.removeItem(STORAGE_KEY);\n    e.target.reset();\n});\n\nfunction saveToLS(key, value) {\n    const jsonData = JSON.stringify(value);\n    localStorage.setItem(key, jsonData);\n}\n\nfunction loadFromLS(key) {\n    const body = localStorage.getItem(key);\n    try {\n        const data = JSON.parse(body);\n        return data;\n    } catch {\n        return body;\n    }\n}\n"],"names":["STORAGE_KEY","refs","formData","email","message","saveToLS","initPage","saveData","loadFromLS","key","value","jsonData","body"],"mappings":"oDAAA,MAAMA,EAAc,sBAEdC,EAAO,CACT,KAAM,SAAS,cAAc,gBAAgB,CACjD,EACMC,EAAW,CACb,MAAO,GACP,QAAS,EACb,EAEAD,EAAK,KAAK,iBAAiB,QAAU,GAAM,CACvC,MAAME,EAAQ,EAAE,cAAc,SAAS,MAAM,MACvCC,EAAU,EAAE,cAAc,SAAS,QAAQ,MAEjDC,EAASL,EADI,CAAE,MAAAG,EAAO,QAAAC,EACI,CAC9B,CAAC,EAED,SAASE,GAAW,CAChB,MAAMC,EAAWC,EAAWR,CAAW,EACvCC,EAAK,KAAK,SAAS,MAAM,OAAQM,GAAA,YAAAA,EAAU,QAASL,EAAS,MAC7DD,EAAK,KAAK,SAAS,QAAQ,OAAQM,GAAA,YAAAA,EAAU,UAAWL,EAAS,OACrE,CAEAI,IAEAL,EAAK,KAAK,iBAAiB,SAAW,GAAM,CACxC,EAAE,eAAc,EAChB,MAAME,EAAQ,EAAE,cAAc,SAAS,MAAM,MAAM,OAC7CC,EAAU,EAAE,cAAc,SAAS,QAAQ,MAAM,OACvD,GAAI,CAACD,GAAS,CAACC,EAAS,CACpB,MAAM,wBAAwB,EAC9B,MACH,CAED,QAAQ,IADK,CAAE,MAAAD,EAAO,QAAAC,EACN,EAChB,aAAa,WAAWJ,CAAW,EACnC,EAAE,OAAO,OACb,CAAC,EAED,SAASK,EAASI,EAAKC,EAAO,CAC1B,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CACtC,CAEA,SAASH,EAAWC,EAAK,CACrB,MAAMG,EAAO,aAAa,QAAQH,CAAG,EACrC,GAAI,CAEA,OADa,KAAK,MAAMG,CAAI,CAEpC,MAAY,CACJ,OAAOA,CACV,CACL"}